
<div class = "goBack">
  <button (click)="goBack()">Go back to menu</button>
</div>


<div class = "all">
  <div *ngIf="currentShare" class="shared-cocktail">
    <div class="cocktail-name"><strong>{{ currentShare.cocktailName }}</strong></div>
    <img [src]="currentShare.cocktailImage" 
         [alt]="currentShare.cocktailName" 
         class="shared-cocktail-img" />
    <div class="shared-info-box">
      <div><strong>{{ currentShare.sender }}</strong> has shared a Cocktail!</div>
      <div class="sharetext">{{ currentShare.text }}</div>
      <div class="sharetime">{{ currentShare.timestamp }}</div>
    </div>
  </div>
  
  <div *ngIf="share.length > 1" style="margin-top: 10px;">
    <button (click)="prevShare()" [disabled]="currentShareIndex === 0">← Previous</button>
    <button (click)="nextShare()" [disabled]="currentShareIndex === share.length - 1">Next →</button>
  </div>
  
  
  <h4>
      <div class="chat">
        <nav class="userCount">
          <h6>Live Users: {{ connectedClients }}</h6>
        </nav>
          <div class="messages">
            <div *ngFor="let m of messages" 
              class="message" 
              [ngClass]="m.sender === mail ? 'sent' : 'received'">
          <div><strong>{{ m.sender }}</strong></div>
          <div>{{ m.text }}</div>
          <div style="font-size: 0.75rem; text-align: right;">{{ m.timestamp }}</div>
        </div>       
          </div>
          <div class = "write-send">
            <input [(ngModel)]="m.text" (keydown.enter)="sendMessage()" placeholder="Scrivi un messaggio..." />
            <button (click)="sendMessage()">Invia</button>
          </div>
      </div>      
  </h4>
</div>


